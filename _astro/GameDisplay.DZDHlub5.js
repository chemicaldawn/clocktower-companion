import{e as Oe,c as Re,b as Pe,s as z,h as I,g as Ce,a as De,d as A,f as me,H as Ye,r as ie,i as F,j as D,k as Le,l as ye,m as ke,p as qe,I as J,n as Ee,o as fe,q as Be,t as Te,u as ue,v as Ve,E as Ge,w as He,x as Xe,y as Ue,z as We,A as Ke,B as ze,C as Fe,D as Je,F as Qe,L as Ze,G as $e,J as je,K as ee,M as ea,N as aa,O as ta,P as ce,Q as ra,R as ve,S as na,T as be,U as la,V as sa,W as ia,X as fa,Y as ua,Z as G,_ as ca,$ as va,a0 as oa,a1 as da,a2 as _a,a3 as ha,a4 as ga,a5 as xe,a6 as Q,a7 as oe,a8 as de,a9 as ma,aa as Y,ab as ya,ac as Z,ad as R,ae as ka,af as Ea,ag as Ta}from"./render.CU2xBIru.js";/* empty css                       */const ba="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(ba);Oe();function xa(e,a){return a}function Aa(e,a,t,r){for(var n=[],s=a.length,u=0;u<s;u++)He(a[u].e,n,!0);var c=s>0&&n.length===0&&t!==null;if(c){var m=t.parentNode;Xe(m),m.append(t),r.clear(),N(e,a[0].prev,a[s-1].next)}Ue(n,()=>{for(var _=0;_<s;_++){var l=a[_];c||(r.delete(l.k),N(e,l.prev,l.next)),We(l.e,!c)}})}function Ia(e,a,t,r,n,s=null){var u=e,c={flags:a,items:new Map,first:null};{var m=e;u=I?z(Ce(m)):m.appendChild(Re())}I&&De();var _=null,l=!1,E=me(()=>{var f=t();return Ve(f)?f:f==null?[]:Ee(f)});Pe(()=>{var f=A(E),h=f.length;if(l&&h===0)return;l=h===0;let v=!1;if(I){var x=u.data===Ye;x!==(h===0)&&(u=ie(),z(u),F(!1),v=!0)}if(I){for(var T=null,o,g=0;g<h;g++){if(D.nodeType===8&&D.data===Le){u=D,v=!0,F(!1);break}var b=f[g],d=r(b,g);o=Ae(D,c,T,null,b,d,g,n,a,t),c.items.set(d,o),T=o}h>0&&z(ie())}I||Sa(f,c,u,n,a,r,t),s!==null&&(h===0?_?ye(_):_=ke(()=>s(u)):_!==null&&qe(_,()=>{_=null})),v&&F(!0),A(E)}),I&&(u=D)}function Sa(e,a,t,r,n,s,u){var c=e.length,m=a.items,_=a.first,l=_,E,f=null,h=[],v=[],x,T,o,g;for(g=0;g<c;g+=1){if(x=e[g],T=s(x,g),o=m.get(T),o===void 0){var b=l?l.e.nodes_start:t;f=Ae(b,a,f,f===null?a.first:f.next,x,T,g,r,n,u),m.set(T,f),h=[],v=[],l=f.next;continue}if(pa(o,x,g),(o.e.f&J)!==0&&ye(o.e),o!==l){if(E!==void 0&&E.has(o)){if(h.length<v.length){var d=v[0],k;f=d.prev;var p=h[0],w=h[h.length-1];for(k=0;k<h.length;k+=1)_e(h[k],d,t);for(k=0;k<v.length;k+=1)E.delete(v[k]);N(a,p.prev,w.next),N(a,f,p),N(a,w,d),l=d,f=w,g-=1,h=[],v=[]}else E.delete(o),_e(o,l,t),N(a,o.prev,o.next),N(a,o,f===null?a.first:f.next),N(a,f,o),f=o;continue}for(h=[],v=[];l!==null&&l.k!==T;)(l.e.f&J)===0&&(E??=new Set).add(l),v.push(l),l=l.next;if(l===null)continue;o=l}h.push(o),f=o,l=o.next}if(l!==null||E!==void 0){for(var M=E===void 0?[]:Ee(E);l!==null;)(l.e.f&J)===0&&M.push(l),l=l.next;var H=M.length;if(H>0){var X=c===0?t:null;Aa(a,M,X,m)}}fe.first=a.first&&a.first.e,fe.last=f&&f.e}function pa(e,a,t,r){Be(e.v,a),e.i=t}function Ae(e,a,t,r,n,s,u,c,m,_){var l=(m&Ke)!==0,E=(m&ze)===0,f=l?E?Te(n):ue(n):n,h=(m&Ge)===0?u:ue(u),v={i:h,v:f,k:s,a:null,e:null,prev:t,next:r};try{return v.e=ke(()=>c(e,f,h,_),I),v.e.prev=t&&t.e,v.e.next=r&&r.e,t===null?a.first=v:(t.next=v,t.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function _e(e,a,t){for(var r=e.next?e.next.e.nodes_start:t,n=a?a.e.nodes_start:t,s=e.e.nodes_start;s!==r;){var u=Fe(s);n.before(s),s=u}}function N(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function Na(e,a,t){var r=e==null?"":""+e;return r=r?r+" "+a:a,r===""?null:r}function wa(e,a,t,r,n,s){var u=e.__className;if(I||u!==t){var c=Na(t,r);(!I||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=t}return s}function Ma(e){if(I){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var r=e.value;he(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var n=e.checked;he(e,"checked",null),e.checked=n}}};e.__on_r=t,Je(t),Qe()}}function he(e,a,t,r){var n=e.__attributes??={};I&&(n[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||n[a]!==(n[a]=t)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Ze]=t),e.removeAttribute(a))}function L(e,a,t,r){var n=e.__styles??={};n[a]!==t&&(n[a]=t,t==null?e.style.removeProperty(a):e.style.setProperty(a,t,""))}function Oa(e,a,t=a){var r=$e();je(e,"input",n=>{var s=n?e.defaultValue:e.value;if(s=$(e)?j(s):s,t(s),r&&s!==(s=a())){var u=e.selectionStart,c=e.selectionEnd;e.value=s??"",c!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(c,e.value.length))}}),(I&&e.defaultValue!==e.value||ee(a)==null&&e.value)&&t($(e)?j(e.value):e.value),ea(()=>{var n=a();$(e)&&n===j(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function $(e){var a=e.type;return a==="number"||a==="range"}function j(e){return e===""?null:+e}function Ra(e=!1){const a=aa,t=a.l.u;if(!t)return;let r=()=>na(a.s);if(e){let n=0,s={};const u=be(()=>{let c=!1;const m=a.s;for(const _ in m)m[_]!==s[_]&&(s[_]=m[_],c=!0);return c&&n++,n});r=()=>A(u)}t.b.length&&ta(()=>{ge(a,r),ve(t.b)}),ce(()=>{const n=ee(()=>t.m.map(ra));return()=>{for(const s of n)typeof s=="function"&&s()}}),t.a.length&&ce(()=>{ge(a,r),ve(t.a)})}function ge(e,a){if(e.l.s)for(const t of e.l.s)A(t);a()}let V=!1;function Pa(e){var a=V;try{return V=!1,[e(),V]}finally{V=a}}function P(e,a,t,r){var n=!oa||(t&da)!==0,s=(t&_a)!==0,u=!1,c;[c,u]=Pa(()=>e[a]);var m=ca in e||va in e,_=(la(e,a)?.set??(m&&a in e&&(d=>e[a]=d)))||void 0,l=r,E=!0,f=!1,h=()=>(f=!0,E&&(E=!1,l=r),l);c===void 0&&r!==void 0&&(_&&n&&sa(),c=h(),_&&_(c));var v;if(n)v=()=>{var d=e[a];return d===void 0?h():(E=!0,f=!1,d)};else{var x=me(()=>e[a]);x.f|=ia,v=()=>{var d=A(x);return d!==void 0&&(l=void 0),d===void 0?l:d}}if(_){var T=e.$$legacy;return function(d,k){return arguments.length>0?((!n||!k||T||u)&&_(k?v():d),d):v()}}var o=!1,g=Te(c),b=be(()=>{var d=v(),k=A(g);return o?(o=!1,k):g.v=d});return b.equals=fa,function(d,k){if(arguments.length>0){const p=k?A(b):n&&s?ua(d):d;return b.equals(p)||(o=!0,G(g,p),f&&l!==void 0&&(l=p),ee(()=>A(b))),d}return A(b)}}var Ca=(e,a,t,r)=>{a(A(t).index),r(!0)},Da=xe('<div><p class="character-name svelte-150koak"> </p></div>'),Ya=xe('<div id="display-container" class="svelte-150koak"><div id="grim-container" class="svelte-150koak"><div id="grim" class="svelte-150koak"></div></div> <div id="edit" class="svelte-150koak"><input placeholder="enter name..." type="text" id="edit-name" name="token-name" class="svelte-150koak"></div></div>');function Ba(e,a){ga(a,!1);class t{index;name;css;x;y;characterName;characterImage;alignment;constructor(y){this.index=y,this.name="",this.x=0,this.y=0,y==0?this.css="token self":this.css="token"}setCharacter(y){}}let r=[],n=12;for(let i=0;i<n;i++)r.push(new t(i));let s=15,u=P(a,"translateY",12,0),c=P(a,"scale",12,0),m=P(a,"rotate",12,0),_=P(a,"animation",12,""),l=P(a,"editScale",12,0),E=P(a,"editOpacity",12,1),f="150ms",h=0,v=0,x=0,T=0,o=50,g=0,b=ya(),d=0,k=!1;function p(){let i=r.length,y=3/2*Math.PI,S=Math.PI*2/i,C=0,O=s,pe=50-O/2,Ne=50-O,we=50-O/2,Me=50-O;r.forEach(le=>{let se=y+C;le.x=pe-Math.cos(se)*Ne,le.y=we-Math.sin(se)*Me,C+=S}),G(b,r[0])}function w(i,y){let S=r.length;u(y),c(1-y/50),m(0),k&&(u(-100+y/2),c(3-y/300),m(i+-d*(360/S))),console.log(k,u(),c())}function M(i){k&&g!=i?re():G(b,r[i]),g=i,d=i,i/r.length>.5&&(d-=r.length)}function H(i){h=i.touches[0].clientX,v=i.touches[0].clientY,te(!1)}function X(i){x=i.touches[0].clientX-h,T=i.touches[0].clientY-v,w(-x/12,T/12)}function Ie(i){te(!0);let y=0;Math.abs(T)>Math.abs(x)&&(y=1),y==0&&k?x<-1*o?ae(-1):x>o&&ae(1):T<-1*o?U(!0):T>o&&(M(0),U(!1)),x=0,T=0,w(0,0)}function ae(i){d+=i,g=Se(g+i,r.length),re()}function U(i){i?(k=!0,l(1)):(k=!1,l(0))}function te(i){_(i?"transform "+f:"")}function re(){E(0),setTimeout(()=>{G(b,r[g]),E(1)},150)}function Se(i,y){for(;i<0;)i+=y;return i%y}p(),w(0,0),Ra();var W=Ya();Q("touchstart",Z,H,void 0,!0),Q("touchmove",Z,X,void 0,!0),Q("touchend",Z,Ie);var K=Y(W),q=Y(K);Ia(q,5,()=>r,xa,(i,y)=>{var S=Da();S.__touchend=[Ca,M,y,U];var C=Y(S),O=Y(C,!0);R(C),R(S),oe(()=>{wa(S,1,A(y).css,"svelte-150koak"),L(S,"transform",`translate(${A(y).x??""}cqh,${A(y).y??""}cqh)`),Ta(O,A(y).characterName)}),de(i,S)}),R(q),R(K);var B=ka(K,2),ne=Y(B);Ma(ne),R(B),R(W),oe(()=>{L(q,"transition",_()),L(q,"transform",`translateY(${u()??""}cqh) scale(${c()??""}) rotate(${m()??""}deg)`),L(B,"opacity",E()),L(B,"transform",`scaleY(${l()??""})`)}),Oa(ne,()=>A(b).name,i=>Ea(b,A(b).name=i)),de(e,W),ma()}ha(["touchend"]);export{Ba as default};
